import{g as Ke,u as Je,r as Q,j as v}from"./index-CUU7AGCI.js";import{c as Ve}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{C as Ze}from"./Card-BzAKe0rG.js";var re={exports:{}},Ee;function Qe(){return Ee||(Ee=1,(function(s){var o=(function(n){var l=Object.prototype,i=l.hasOwnProperty,f=Object.defineProperty||function(r,e,t){r[e]=t.value},p,T=typeof Symbol=="function"?Symbol:{},A=T.iterator||"@@iterator",x=T.asyncIterator||"@@asyncIterator",q=T.toStringTag||"@@toStringTag";function L(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{L({},"")}catch{L=function(e,t,c){return e[t]=c}}function _(r,e,t,c){var a=e&&e.prototype instanceof w?e:w,h=Object.create(a.prototype),E=new K(c||[]);return f(h,"_invoke",{value:X(r,t,E)}),h}n.wrap=_;function y(r,e,t){try{return{type:"normal",arg:r.call(e,t)}}catch(c){return{type:"throw",arg:c}}}var z="suspendedStart",m="suspendedYield",S="executing",D="completed",b={};function w(){}function N(){}function I(){}var B={};L(B,A,function(){return this});var F=Object.getPrototypeOf,W=F&&F(F(J([])));W&&W!==l&&i.call(W,A)&&(B=W);var M=I.prototype=w.prototype=Object.create(B);N.prototype=I,f(M,"constructor",{value:I,configurable:!0}),f(I,"constructor",{value:N,configurable:!0}),N.displayName=L(I,q,"GeneratorFunction");function Y(r){["next","throw","return"].forEach(function(e){L(r,e,function(t){return this._invoke(e,t)})})}n.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return e?e===N||(e.displayName||e.name)==="GeneratorFunction":!1},n.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,I):(r.__proto__=I,L(r,q,"GeneratorFunction")),r.prototype=Object.create(M),r},n.awrap=function(r){return{__await:r}};function $(r,e){function t(h,E,R,k){var O=y(r[h],r,E);if(O.type==="throw")k(O.arg);else{var u=O.arg,d=u.value;return d&&typeof d=="object"&&i.call(d,"__await")?e.resolve(d.__await).then(function(g){t("next",g,R,k)},function(g){t("throw",g,R,k)}):e.resolve(d).then(function(g){u.value=g,R(u)},function(g){return t("throw",g,R,k)})}}var c;function a(h,E){function R(){return new e(function(k,O){t(h,E,k,O)})}return c=c?c.then(R,R):R()}f(this,"_invoke",{value:a})}Y($.prototype),L($.prototype,x,function(){return this}),n.AsyncIterator=$,n.async=function(r,e,t,c,a){a===void 0&&(a=Promise);var h=new $(_(r,e,t,c),a);return n.isGeneratorFunction(e)?h:h.next().then(function(E){return E.done?E.value:h.next()})};function X(r,e,t){var c=z;return function(h,E){if(c===S)throw new Error("Generator is already running");if(c===D){if(h==="throw")throw E;return Z()}for(t.method=h,t.arg=E;;){var R=t.delegate;if(R){var k=G(R,t);if(k){if(k===b)continue;return k}}if(t.method==="next")t.sent=t._sent=t.arg;else if(t.method==="throw"){if(c===z)throw c=D,t.arg;t.dispatchException(t.arg)}else t.method==="return"&&t.abrupt("return",t.arg);c=S;var O=y(r,e,t);if(O.type==="normal"){if(c=t.done?D:m,O.arg===b)continue;return{value:O.arg,done:t.done}}else O.type==="throw"&&(c=D,t.method="throw",t.arg=O.arg)}}}function G(r,e){var t=e.method,c=r.iterator[t];if(c===p)return e.delegate=null,t==="throw"&&r.iterator.return&&(e.method="return",e.arg=p,G(r,e),e.method==="throw")||t!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+t+"' method")),b;var a=y(c,r.iterator,e.arg);if(a.type==="throw")return e.method="throw",e.arg=a.arg,e.delegate=null,b;var h=a.arg;if(!h)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b;if(h.done)e[r.resultName]=h.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=p);else return h;return e.delegate=null,b}Y(M),L(M,q,"Generator"),L(M,A,function(){return this}),L(M,"toString",function(){return"[object Generator]"});function j(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function H(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function K(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(j,this),this.reset(!0)}n.keys=function(r){var e=Object(r),t=[];for(var c in e)t.push(c);return t.reverse(),function a(){for(;t.length;){var h=t.pop();if(h in e)return a.value=h,a.done=!1,a}return a.done=!0,a}};function J(r){if(r){var e=r[A];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var t=-1,c=function a(){for(;++t<r.length;)if(i.call(r,t))return a.value=r[t],a.done=!1,a;return a.value=p,a.done=!0,a};return c.next=c}}return{next:Z}}n.values=J;function Z(){return{value:p,done:!0}}return K.prototype={constructor:K,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(H),!r)for(var e in this)e.charAt(0)==="t"&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var r=this.tryEntries[0],e=r.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function t(k,O){return h.type="throw",h.arg=r,e.next=k,O&&(e.method="next",e.arg=p),!!O}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],h=a.completion;if(a.tryLoc==="root")return t("end");if(a.tryLoc<=this.prev){var E=i.call(a,"catchLoc"),R=i.call(a,"finallyLoc");if(E&&R){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(E){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else if(R){if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,e){for(var t=this.tryEntries.length-1;t>=0;--t){var c=this.tryEntries[t];if(c.tryLoc<=this.prev&&i.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var a=c;break}}a&&(r==="break"||r==="continue")&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var h=a?a.completion:{};return h.type=r,h.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(h)},complete:function(r,e){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&e&&(this.next=e),b},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===r)return this.complete(t.completion,t.afterLoc),H(t),b}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===r){var c=t.completion;if(c.type==="throw"){var a=c.arg;H(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,t){return this.delegate={iterator:J(r),resultName:e,nextLoc:t},this.method==="next"&&(this.arg=p),b}},n})(s.exports);try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}})(re)),re.exports}var te,Re;function Se(){return Re||(Re=1,te=(s,o)=>`${s}-${o}-${Math.random().toString(16).slice(3,8)}`),te}var ne,Oe;function $e(){if(Oe)return ne;Oe=1;const s=Se();let o=0;return ne=({id:n,action:l,payload:i={}})=>{let f=n;return typeof f>"u"&&(f=s("Job",o),o+=1),{id:f,action:l,payload:i}},ne}var V={},Te;function be(){if(Te)return V;Te=1;let s=!1;return V.logging=s,V.setLogging=o=>{s=o},V.log=(...o)=>s?console.log.apply(this,o):null,V}var oe,Ne;function Xe(){if(Ne)return oe;Ne=1;const s=$e(),{log:o}=be(),n=Se();let l=0;return oe=()=>{const i=n("Scheduler",l),f={},p={};let T=[];l+=1;const A=()=>T.length,x=()=>Object.keys(f).length,q=()=>{if(T.length!==0){const m=Object.keys(f);for(let S=0;S<m.length;S+=1)if(typeof p[m[S]]>"u"){T[0](f[m[S]]);break}}},L=(m,S)=>new Promise((D,b)=>{const w=s({action:m,payload:S});T.push(async N=>{T.shift(),p[N.id]=w;try{D(await N[m].apply(this,[...S,w.id]))}catch(I){b(I)}finally{delete p[N.id],q()}}),o(`[${i}]: Add ${w.id} to JobQueue`),o(`[${i}]: JobQueue length=${T.length}`),q()});return{addWorker:m=>(f[m.id]=m,o(`[${i}]: Add ${m.id}`),o(`[${i}]: Number of workers=${x()}`),q(),m.id),addJob:async(m,...S)=>{if(x()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return L(m,S)},terminate:async()=>{Object.keys(f).forEach(async m=>{await f[m].terminate()}),T=[]},getQueueLen:A,getNumWorkers:x}},oe}var ae,ke;function er(){return ke||(ke=1,ae=s=>{const o={};return typeof WorkerGlobalScope<"u"?o.type="webworker":typeof document=="object"?o.type="browser":typeof process=="object"&&typeof Ve=="function"&&(o.type="node"),typeof s>"u"?o:o[s]}),ae}var ie,_e;function rr(){if(_e)return ie;_e=1;const o=er()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return ie=n=>{const l={...n};return["corePath","workerPath","langPath"].forEach(i=>{n[i]&&(l[i]=o(l[i]))}),l},ie}var se,Ae;function ze(){return Ae||(Ae=1,se={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),se}const tr="7.0.0",nr={version:tr};var ce,Ie;function or(){return Ie||(Ie=1,ce={workerBlobURL:!0,logger:()=>{}}),ce}var ue,je;function ar(){if(je)return ue;je=1;const s=nr.version;return ue={...or(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${s}/dist/worker.min.js`},ue}var le,Pe;function ir(){return Pe||(Pe=1,le=({workerPath:s,workerBlobURL:o})=>{let n;if(Blob&&URL&&o){const l=new Blob([`importScripts("${s}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(l))}else n=new Worker(s);return n}),le}var fe,Ce;function sr(){return Ce||(Ce=1,fe=s=>{s.terminate()}),fe}var de,qe;function cr(){return qe||(qe=1,de=(s,o)=>{s.onmessage=({data:n})=>{o(n)}}),de}var he,xe;function ur(){return xe||(xe=1,he=async(s,o)=>{s.postMessage(o)}),he}var pe,Me;function lr(){if(Me)return pe;Me=1;const s=n=>new Promise((l,i)=>{const f=new FileReader;f.onload=()=>{l(f.result)},f.onerror=({target:{error:{code:p}}})=>{i(Error(`File could not be read! Code=${p}`))},f.readAsArrayBuffer(n)}),o=async n=>{let l=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?l=atob(n.split(",")[1]).split("").map(i=>i.charCodeAt(0)):l=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(l=await o(n.src)),n.tagName==="VIDEO"&&(l=await o(n.poster)),n.tagName==="CANVAS"&&await new Promise(i=>{n.toBlob(async f=>{l=await s(f),i()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const i=await n.convertToBlob();l=await s(i)}else(n instanceof File||n instanceof Blob)&&(l=await s(n));return new Uint8Array(l)};return pe=o,pe}var ge,Ge;function fr(){if(Ge)return ge;Ge=1;const s=ar(),o=ir(),n=sr(),l=cr(),i=ur(),f=lr();return ge={defaultOptions:s,spawnWorker:o,terminateWorker:n,onMessage:l,send:i,loadImage:f},ge}var ve,Ue;function Ye(){if(Ue)return ve;Ue=1;const s=rr(),o=$e(),{log:n}=be(),l=Se(),i=ze(),{defaultOptions:f,spawnWorker:p,terminateWorker:T,onMessage:A,loadImage:x,send:q}=fr();let L=0;return ve=async(_="eng",y=i.LSTM_ONLY,z={},m={})=>{const S=l("Worker",L),{logger:D,errorHandler:b,...w}=s({...f,...z}),N={},I=typeof _=="string"?_.split("+"):_;let B=y,F=m;const W=[i.DEFAULT,i.LSTM_ONLY].includes(y)&&!w.legacyCore;let M,Y;const $=new Promise((u,d)=>{Y=u,M=d}),X=u=>{M(u.message)};let G=p(w);G.onerror=X,L+=1;const j=({id:u,action:d,payload:g})=>new Promise((P,C)=>{n(`[${S}]: Start ${u}, action=${d}`);const U=`${d}-${u}`;N[U]={resolve:P,reject:C},q(G,{workerId:S,jobId:u,action:d,payload:g})}),H=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),K=u=>j(o({id:u,action:"load",payload:{options:{lstmOnly:W,corePath:w.corePath,logging:w.logging}}})),J=(u,d,g)=>j(o({id:g,action:"FS",payload:{method:"writeFile",args:[u,d]}})),Z=(u,d)=>j(o({id:d,action:"FS",payload:{method:"readFile",args:[u,{encoding:"utf8"}]}})),r=(u,d)=>j(o({id:d,action:"FS",payload:{method:"unlink",args:[u]}})),e=(u,d,g)=>j(o({id:g,action:"FS",payload:{method:u,args:d}})),t=(u,d)=>j(o({id:d,action:"loadLanguage",payload:{langs:u,options:{langPath:w.langPath,dataPath:w.dataPath,cachePath:w.cachePath,cacheMethod:w.cacheMethod,gzip:w.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(B)&&!w.legacyLang}}})),c=(u,d,g,P)=>j(o({id:P,action:"initialize",payload:{langs:u,oem:d,config:g}})),a=(u="eng",d,g,P)=>{if(W&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(d))throw Error("Legacy model requested but code missing.");const C=d||B;B=C;const U=g||F;F=U;const ee=(typeof u=="string"?u.split("+"):u).filter(He=>!I.includes(He));return I.push(...ee),ee.length>0?t(ee,P).then(()=>c(u,C,U,P)):c(u,C,U,P)},h=(u={},d)=>j(o({id:d,action:"setParameters",payload:{params:u}})),E=async(u,d={},g={text:!0},P)=>j(o({id:P,action:"recognize",payload:{image:await x(u),options:d,output:g}})),R=async(u,d)=>{if(W)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return j(o({id:d,action:"detect",payload:{image:await x(u)}}))},k=async()=>(G!==null&&(T(G),G=null),Promise.resolve());A(G,({workerId:u,jobId:d,status:g,action:P,data:C})=>{const U=`${P}-${d}`;if(g==="resolve")n(`[${u}]: Complete ${d}`),N[U].resolve({jobId:d,data:C}),delete N[U];else if(g==="reject")if(N[U].reject(C),delete N[U],P==="load"&&M(C),b)b(C);else throw Error(C);else g==="progress"&&D({...C,userJobId:d})});const O={id:S,worker:G,load:H,writeText:J,readText:Z,removeFile:r,FS:e,reinitialize:a,setParameters:h,recognize:E,detect:R,terminate:k};return K().then(()=>t(_)).then(()=>c(_,y,m)).then(()=>Y(O)).catch(()=>{}),$},ve}var me,De;function dr(){if(De)return me;De=1;const s=Ye();return me={recognize:async(l,i,f)=>{const p=await s(i,1,f);return p.recognize(l).finally(async()=>{await p.terminate()})},detect:async(l,i)=>{const f=await s("osd",0,i);return f.detect(l).finally(async()=>{await f.terminate()})}},me}var ye,We;function hr(){return We||(We=1,ye={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),ye}var we,Be;function pr(){return Be||(Be=1,we={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),we}var Le,Fe;function gr(){if(Fe)return Le;Fe=1,Qe();const s=Xe(),o=Ye(),n=dr(),l=hr(),i=ze(),f=pr(),{setLogging:p}=be();return Le={languages:l,OEM:i,PSM:f,createScheduler:s,createWorker:o,setLogging:p,...n},Le}var vr=gr();const mr=Ke(vr),br=()=>{const{t:s}=Je(),[o,n]=Q.useState(null),[l,i]=Q.useState(""),[f,p]=Q.useState(0),[T,A]=Q.useState(!1),x=_=>{const y=_.target.files[0];y&&(n(URL.createObjectURL(y)),i(""),p(0),q(y))},q=_=>{A(!0),mr.recognize(_,"eng",{logger:y=>{y.status==="recognizing text"&&p(parseInt(y.progress*100))}}).then(({data:{text:y}})=>{i(y),A(!1)}).catch(y=>{console.error(y),A(!1),alert("Failed to extract text.")})},L=()=>{navigator.clipboard.writeText(l),alert(s("text_copied")||"Text copied to clipboard!")};return v.jsxs("div",{className:"container-fluid",children:[v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsx("div",{className:"page-title-box",children:v.jsx("h4",{className:"page-title",children:s("image_to_text")||"Image to Text"})})})}),v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-lg-8",children:v.jsxs(Ze,{title:s("image_to_text")||"Image to Text",children:[v.jsx("div",{className:"mb-4",children:v.jsx("input",{className:"form-control",type:"file",accept:"image/*",onChange:x})}),o&&v.jsx("div",{className:"mb-4 text-center",children:v.jsx("img",{src:o,alt:"Source",className:"img-fluid rounded border",style:{maxHeight:"300px"}})}),T&&v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[v.jsx("span",{children:s("extracting_text")||"Extracting Text..."}),v.jsxs("span",{children:[f,"%"]})]}),v.jsx("div",{className:"progress",children:v.jsx("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:`${f}%`},"aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100"})})]}),l&&v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{className:"form-label fw-bold",htmlFor:"extracted-text",children:"Extracted Text:"}),v.jsx("textarea",{id:"extracted-text",className:"form-control mb-3",rows:"10",value:l,readOnly:!0}),v.jsxs("button",{className:"btn btn-primary",onClick:L,children:[v.jsx("i",{className:"mdi mdi-content-copy me-1"}),s("copy_text")||"Copy Text"]})]})]})})})]})};export{br as default};
