import{r as t,j as e}from"./index-CUU7AGCI.js";import{g as F,p as S,G as D}from"./pdf.worker.min-DHeGPavo.js";import{C as I}from"./Card-BzAKe0rG.js";D.workerSrc=S;const $=()=>{const[l,x]=t.useState(null),[d,n]=t.useState([]),[m,p]=t.useState(!1),[c,f]=t.useState("image/png"),[g,j]=t.useState(1.5),v=s=>{const a=s.target.files[0];a&&a.type==="application/pdf"?(x(a),n([])):alert("Please select a valid PDF file.")},N=async()=>{if(l){p(!0),n([]);try{const s=await l.arrayBuffer(),a=await F(s).promise,w=a.numPages,h=[];for(let r=1;r<=w;r++){const u=await a.getPage(r),i=u.getViewport({scale:g}),o=document.createElement("canvas"),P=o.getContext("2d");o.height=i.height,o.width=i.width;const y={canvasContext:P,viewport:i};await u.render(y).promise;const C=o.toDataURL(c);h.push({page:r,url:C})}n(h)}catch(s){console.error("Error converting PDF:",s),alert("An error occurred during conversion.")}finally{p(!1)}}},b=c==="image/png"?"png":"jpg";return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"page-title-box",children:e.jsx("h4",{className:"page-title",children:"PDF to Image Converter"})})})}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-8",children:e.jsxs(I,{title:"PDF to Image Converter",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"pdf-upload",className:"form-label",children:"Select PDF File"}),e.jsx("input",{className:"form-control",type:"file",id:"pdf-upload",accept:"application/pdf",onChange:v})]}),e.jsxs("div",{className:"row g-3 mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"output-format",className:"form-label",children:"Output Format"}),e.jsxs("select",{id:"output-format",className:"form-select",value:c,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"image/png",children:"PNG"}),e.jsx("option",{value:"image/jpeg",children:"JPG"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"output-quality",className:"form-label",children:"Quality (Scale)"}),e.jsxs("select",{id:"output-quality",className:"form-select",value:g,onChange:s=>j(Number(s.target.value)),children:[e.jsx("option",{value:"1",children:"Standard (1x)"}),e.jsx("option",{value:"1.5",children:"High (1.5x)"}),e.jsx("option",{value:"2",children:"Very High (2x)"})]})]})]}),e.jsx("button",{className:"btn btn-success w-100 fw-bold",onClick:N,disabled:!l||m,children:m?"Converting...":"Convert to Images"}),d.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{children:"Converted Pages:"}),e.jsx("div",{className:"row g-3",children:d.map(s=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"card h-100 shadow-sm",children:[e.jsx("img",{src:s.url,className:"card-img-top p-2",alt:`Page ${s.page}`,style:{border:"1px solid #eee"}}),e.jsxs("div",{className:"card-body text-center p-2",children:[e.jsxs("p",{className:"mb-2 small fw-bold",children:["Page ",s.page]}),e.jsx("a",{href:s.url,download:`${l.name}_page_${s.page}.${b}`,className:"btn btn-sm btn-outline-primary w-100",children:"Download"})]})]})},s.page))})]})]})})})]})};export{$ as default};
