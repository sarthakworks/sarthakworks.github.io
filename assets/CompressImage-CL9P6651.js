import{r as Te,j as B}from"./index-DCOFlLha.js";function at(_,S){return S.forEach((function(P){P&&typeof P!="string"&&!Array.isArray(P)&&Object.keys(P).forEach((function(d){if(d!=="default"&&!(d in _)){var e=Object.getOwnPropertyDescriptor(P,d);Object.defineProperty(_,d,e.get?e:{enumerable:!0,get:function(){return P[d]}})}}))})),Object.freeze(_)}function $e(_,S){return new Promise((function(P,d){let e;return st(_).then((function(t){try{return e=t,P(new Blob([S.slice(0,2),e,S.slice(2)],{type:"image/jpeg"}))}catch(u){return d(u)}}),d)}))}const st=_=>new Promise(((S,P)=>{const d=new FileReader;d.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return P("not a valid JPEG");for(u+=2;;){const s=t.getUint16(u);if(s===65498)break;const m=t.getUint16(u+2);if(s===65505&&t.getUint32(u+4)===1165519206){const w=u+10;let r;switch(t.getUint16(w)){case 18761:r=!0;break;case 19789:r=!1;break;default:return P("TIFF header contains invalid endian")}if(t.getUint16(w+2,r)!==42)return P("TIFF header contains invalid version");const i=t.getUint32(w+4,r),n=w+i+2+12*t.getUint16(w+i,r);for(let a=w+i+2;a<n;a+=12)if(t.getUint16(a,r)==274){if(t.getUint16(a+2,r)!==3)return P("Orientation data type is invalid");if(t.getUint32(a+4,r)!==1)return P("Orientation data count is invalid");t.setUint16(a+8,1,r);break}return S(e.slice(u,u+2+m))}u+=2+m}return S(new Blob)})),d.readAsArrayBuffer(_)}));var je={},ft={get exports(){return je},set exports(_){je=_}};(function(_){var S,P,d={};ft.exports=d,d.parse=function(e,t){for(var u=d.bin.readUshort,s=d.bin.readUint,m=0,w={},r=new Uint8Array(e),i=r.length-4;s(r,i)!=101010256;)i--;m=i,m+=4;var n=u(r,m+=4);u(r,m+=2);var a=s(r,m+=2),h=s(r,m+=4);m+=4,m=h;for(var U=0;U<n;U++){s(r,m),m+=4,m+=4,m+=4,s(r,m+=4),a=s(r,m+=4);var I=s(r,m+=4),b=u(r,m+=4),k=u(r,m+2),T=u(r,m+4);m+=6;var E=s(r,m+=8);m+=4,m+=b+k+T,d._readLocal(r,E,w,a,I,t)}return w},d._readLocal=function(e,t,u,s,m,w){var r=d.bin.readUshort,i=d.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=r(e,t+=8),h=r(e,t+=2);t+=2;var U=d.bin.readUTF8(e,t,a);if(t+=a,t+=h,w)u[U]={size:m,csize:s};else{var I=new Uint8Array(e.buffer,t);if(n==0)u[U]=new Uint8Array(I.buffer.slice(t,t+s));else{if(n!=8)throw"unknown compression method: "+n;var b=new Uint8Array(m);d.inflateRaw(I,b),u[U]=b}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var u=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[u]=120,s[u+1]=156,u+=2,u=d.F.deflateRaw(e,s,u,t.level);var m=d.adler(e,0,e.length);return s[u+0]=m>>>24&255,s[u+1]=m>>>16&255,s[u+2]=m>>>8&255,s[u+3]=m>>>0&255,new Uint8Array(s.buffer,0,u+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),s=d.F.deflateRaw(e,u,s,t.level);return new Uint8Array(u.buffer,0,s)},d.encode=function(e,t){t==null&&(t=!1);var u=0,s=d.bin.writeUint,m=d.bin.writeUshort,w={};for(var r in e){var i=!d._noNeed(r)&&!t,n=e[r],a=d.crc.crc(n,0,n.length);w[r]={cpr:i,usize:n.length,crc:a,file:i?d.deflateRaw(n):n}}for(var r in w)u+=w[r].file.length+30+46+2*d.bin.sizeUTF8(r);u+=22;var h=new Uint8Array(u),U=0,I=[];for(var r in w){var b=w[r];I.push(U),U=d._writeHeader(h,U,r,b,0)}var k=0,T=U;for(var r in w)b=w[r],I.push(U),U=d._writeHeader(h,U,r,b,1,I[k++]);var E=U-T;return s(h,U,101010256),U+=4,m(h,U+=4,k),m(h,U+=2,k),s(h,U+=2,E),s(h,U+=4,T),U+=4,U+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,u,s,m,w){var r=d.bin.writeUint,i=d.bin.writeUshort,n=s.file;return r(e,t,m==0?67324752:33639248),t+=4,m==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,s.cpr?8:0),r(e,t+=2,0),r(e,t+=4,s.crc),r(e,t+=4,n.length),r(e,t+=4,s.usize),i(e,t+=4,d.bin.sizeUTF8(u)),i(e,t+=2,0),t+=2,m==1&&(t+=2,t+=2,r(e,t+=6,w),t+=4),t+=d.bin.writeUTF8(e,t,u),m==0&&(e.set(n,t),t+=n.length),t},d.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,s=0;s<8;s++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e})(),update:function(e,t,u,s){for(var m=0;m<s;m++)e=d.crc.table[255&(e^t[u+m])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^d.crc.update(4294967295,e,t,u)}},d.adler=function(e,t,u){for(var s=1,m=0,w=t,r=t+u;w<r;){for(var i=Math.min(w+5552,r);w<i;)m+=s+=e[w++];s%=65521,m%=65521}return m<<16|s},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var s="",m=0;m<u;m++)s+=String.fromCharCode(e[t+m]);return s},writeASCII:function(e,t,u){for(var s=0;s<u.length;s++)e[t+s]=u.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var s,m="",w=0;w<u;w++)m+="%"+d.bin.pad(e[t+w].toString(16));try{s=decodeURIComponent(m)}catch{return d.bin.readASCII(e,t,u)}return s},writeUTF8:function(e,t,u){for(var s=u.length,m=0,w=0;w<s;w++){var r=u.charCodeAt(w);if((4294967168&r)==0)e[t+m]=r,m++;else if((4294965248&r)==0)e[t+m]=192|r>>6,e[t+m+1]=128|r>>0&63,m+=2;else if((4294901760&r)==0)e[t+m]=224|r>>12,e[t+m+1]=128|r>>6&63,e[t+m+2]=128|r>>0&63,m+=3;else{if((4292870144&r)!=0)throw"e";e[t+m]=240|r>>18,e[t+m+1]=128|r>>12&63,e[t+m+2]=128|r>>6&63,e[t+m+3]=128|r>>0&63,m+=4}}return m},sizeUTF8:function(e){for(var t=e.length,u=0,s=0;s<t;s++){var m=e.charCodeAt(s);if((4294967168&m)==0)u++;else if((4294965248&m)==0)u+=2;else if((4294901760&m)==0)u+=3;else{if((4292870144&m)!=0)throw"e";u+=4}}return u}},d.F={},d.F.deflateRaw=function(e,t,u,s){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],w=d.F.U,r=d.F._goodIndex;d.F._hash;var i=d.F._putsE,n=0,a=u<<3,h=0,U=e.length;if(s==0){for(;n<U;)i(t,a,n+(y=Math.min(65535,U-n))==U?1:0),a=d.F._copyExact(e,n,y,t,a+8),n+=y;return a>>>3}var I=w.lits,b=w.strt,k=w.prev,T=0,E=0,O=0,g=0,M=0,l=0;for(U>2&&(b[l=d.F._hash(e,0)]=0),n=0;n<U;n++){if(M=l,n+1<U-2){l=d.F._hash(e,n+1);var f=n+1&32767;k[f]=b[l],b[l]=f}if(h<=n){(T>14e3||E>26697)&&U-n>100&&(h<n&&(I[T]=n-h,T+=2,h=n),a=d.F._writeBlock(n==U-1||h==U?1:0,I,T,g,e,O,n-O,t,a),T=E=g=0,O=n);var v=0;n<U-2&&(v=d.F._bestMatch(e,n,k,M,Math.min(m[2],U-n),m[3]));var y=v>>>16,A=65535&v;if(v!=0){A=65535&v;var x=r(y=v>>>16,w.of0);w.lhst[257+x]++;var p=r(A,w.df0);w.dhst[p]++,g+=w.exb[x]+w.dxb[p],I[T]=y<<23|n-h,I[T+1]=A<<16|x<<8|p,T+=2,h=n+y}else w.lhst[e[n]]++;E++}}for(O==n&&e.length!=0||(h<n&&(I[T]=n-h,T+=2,h=n),a=d.F._writeBlock(1,I,T,g,e,O,n-O,t,a),T=0,E=0,T=E=g=0,O=n);(7&a)!=0;)a++;return a>>>3},d.F._bestMatch=function(e,t,u,s,m,w){var r=32767&t,i=u[r],n=r-i+32768&32767;if(i==r||s!=d.F._hash(e,t-n))return 0;for(var a=0,h=0,U=Math.min(32767,t);n<=U&&--w!=0&&i!=r;){if(a==0||e[t+a]==e[t+a-n]){var I=d.F._howLong(e,t,n);if(I>a){if(h=n,(a=I)>=m)break;n+2<I&&(I=n+2);for(var b=0,k=0;k<I-2;k++){var T=t-n+k+32768&32767,E=T-u[T]+32768&32767;E>b&&(b=E,i=T)}}}n+=(r=i)-(i=u[r])+32768&32767}return a<<16|h},d.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var s=t,m=Math.min(e.length,t+258);for(t+=3;t<m&&e[t]==e[t-u];)t++;return t-s},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,u,s,m,w,r,i,n){var a,h,U,I,b,k,T,E,O,g=d.F.U,M=d.F._putsF,l=d.F._putsE;g.lhst[256]++,h=(a=d.F.getTrees())[0],U=a[1],I=a[2],b=a[3],k=a[4],T=a[5],E=a[6],O=a[7];var f=32+((n+3&7)==0?0:8-(n+3&7))+(r<<3),v=s+d.F.contSize(g.fltree,g.lhst)+d.F.contSize(g.fdtree,g.dhst),y=s+d.F.contSize(g.ltree,g.lhst)+d.F.contSize(g.dtree,g.dhst);y+=14+3*T+d.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var A=0;A<286;A++)g.lhst[A]=0;for(A=0;A<30;A++)g.dhst[A]=0;for(A=0;A<19;A++)g.ihst[A]=0;var x=f<v&&f<y?0:v<y?1:2;if(M(i,n,e),M(i,n+1,x),n+=3,x==0){for(;(7&n)!=0;)n++;n=d.F._copyExact(m,w,r,i,n)}else{var p,C;if(x==1&&(p=g.fltree,C=g.fdtree),x==2){d.F.makeCodes(g.ltree,h),d.F.revCodes(g.ltree,h),d.F.makeCodes(g.dtree,U),d.F.revCodes(g.dtree,U),d.F.makeCodes(g.itree,I),d.F.revCodes(g.itree,I),p=g.ltree,C=g.dtree,l(i,n,b-257),l(i,n+=5,k-1),l(i,n+=5,T-4),n+=4;for(var c=0;c<T;c++)l(i,n+3*c,g.itree[1+(g.ordr[c]<<1)]);n+=3*T,n=d.F._codeTiny(E,g.itree,i,n),n=d.F._codeTiny(O,g.itree,i,n)}for(var o=w,N=0;N<u;N+=2){for(var F=t[N],j=F>>>23,z=o+(8388607&F);o<z;)n=d.F._writeLit(m[o++],p,i,n);if(j!=0){var H=t[N+1],D=H>>16,L=H>>8&255,R=255&H;l(i,n=d.F._writeLit(257+L,p,i,n),j-g.of0[L]),n+=g.exb[L],M(i,n=d.F._writeLit(R,C,i,n),D-g.df0[R]),n+=g.dxb[R],o+=j}}n=d.F._writeLit(256,p,i,n)}return n},d.F._copyExact=function(e,t,u,s,m){var w=m>>>3;return s[w]=u,s[w+1]=u>>>8,s[w+2]=255-s[w],s[w+3]=255-s[w+1],w+=4,s.set(new Uint8Array(e.buffer,t,u),w),m+(u+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),u=d.F._hufTree(e.dhst,e.dtree,15),s=[],m=d.F._lenCodes(e.ltree,s),w=[],r=d.F._lenCodes(e.dtree,w),i=0;i<s.length;i+=2)e.ihst[s[i]]++;for(i=0;i<w.length;i+=2)e.ihst[w[i]]++;for(var n=d.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,u,n,m,r,a,s,w]},d.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},d.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},d.F.contSize=function(e,t){for(var u=0,s=0;s<t.length;s++)u+=t[s]*e[1+(s<<1)];return u},d.F._codeTiny=function(e,t,u,s){for(var m=0;m<e.length;m+=2){var w=e[m],r=e[m+1];s=d.F._writeLit(w,t,u,s);var i=w==16?2:w==17?3:7;w>15&&(d.F._putsE(u,s,r,i),s+=i)}return s},d.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var s=0;s<u;s+=2){var m=e[s+1],w=s+3<u?e[s+3]:-1,r=s+5<u?e[s+5]:-1,i=s==0?-1:e[s-1];if(m==0&&w==m&&r==m){for(var n=s+5;n+2<u&&e[n+2]==m;)n+=2;(a=Math.min(n+1-s>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),s+=2*a-2}else if(m==i&&w==m&&r==m){for(n=s+5;n+2<u&&e[n+2]==m;)n+=2;var a=Math.min(n+1-s>>>1,6);t.push(16,a-3),s+=2*a-2}else t.push(m,0)}return u>>>1},d.F._hufTree=function(e,t,u){var s=[],m=e.length,w=t.length,r=0;for(r=0;r<w;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<m;r++)e[r]!=0&&s.push({lit:r,f:e[r]});var i=s.length,n=s.slice(0);if(i==0)return 0;if(i==1){var a=s[0].lit;return n=a==0?1:0,t[1+(a<<1)]=1,t[1+(n<<1)]=1,1}s.sort((function(E,O){return E.f-O.f}));var h=s[0],U=s[1],I=0,b=1,k=2;for(s[0]={lit:-1,f:h.f+U.f,l:h,r:U,d:0};b!=i-1;)h=I!=b&&(k==i||s[I].f<s[k].f)?s[I++]:s[k++],U=I!=b&&(k==i||s[I].f<s[k].f)?s[I++]:s[k++],s[b++]={lit:-1,f:h.f+U.f,l:h,r:U};var T=d.F.setDepth(s[b-1],0);for(T>u&&(d.F.restrictDepth(n,u,T),T=u),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return T},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,u){var s=0,m=1<<u-t,w=0;for(e.sort((function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d})),s=0;s<e.length&&e[s].d>t;s++){var r=e[s].d;e[s].d=t,w+=m-(1<<u-r)}for(w>>>=u-t;w>0;)(r=e[s].d)<t?(e[s].d++,w-=1<<t-r-1):s++;for(;s>=0;s--)e[s].d==t&&w<0&&(e[s].d--,w++);w!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},d.F._writeLit=function(e,t,u,s){return d.F._putsF(u,s,t[e<<1]),s+t[1+(e<<1)]},d.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var s=d.F,m=s._bitsF,w=s._bitsE,r=s._decodeTiny,i=s.makeCodes,n=s.codes2map,a=s._get17,h=s.U,U=t==null;U&&(t=new u(e.length>>>2<<3));for(var I,b,k=0,T=0,E=0,O=0,g=0,M=0,l=0,f=0,v=0;k==0;)if(k=m(e,v,1),T=m(e,v+1,2),v+=3,T!=0){if(U&&(t=d.F._check(t,f+(1<<17))),T==1&&(I=h.flmap,b=h.fdmap,M=511,l=31),T==2){E=w(e,v,5)+257,O=w(e,v+5,5)+1,g=w(e,v+10,4)+4,v+=14;for(var y=0;y<38;y+=2)h.itree[y]=0,h.itree[y+1]=0;var A=1;for(y=0;y<g;y++){var x=w(e,v+3*y,3);h.itree[1+(h.ordr[y]<<1)]=x,x>A&&(A=x)}v+=3*g,i(h.itree,A),n(h.itree,A,h.imap),I=h.lmap,b=h.dmap,v=r(h.imap,(1<<A)-1,E+O,e,v,h.ttree);var p=s._copyOut(h.ttree,0,E,h.ltree);M=(1<<p)-1;var C=s._copyOut(h.ttree,E,O,h.dtree);l=(1<<C)-1,i(h.ltree,p),n(h.ltree,p,I),i(h.dtree,C),n(h.dtree,C,b)}for(;;){var c=I[a(e,v)&M];v+=15&c;var o=c>>>4;if(!(o>>>8))t[f++]=o;else{if(o==256)break;var N=f+o-254;if(o>264){var F=h.ldef[o-257];N=f+(F>>>3)+w(e,v,7&F),v+=7&F}var j=b[a(e,v)&l];v+=15&j;var z=j>>>4,H=h.ddef[z],D=(H>>>4)+m(e,v,15&H);for(v+=15&H,U&&(t=d.F._check(t,f+(1<<17)));f<N;)t[f]=t[f++-D],t[f]=t[f++-D],t[f]=t[f++-D],t[f]=t[f++-D];f=N}}}else{(7&v)!=0&&(v+=8-(7&v));var L=4+(v>>>3),R=e[L-4]|e[L-3]<<8;U&&(t=d.F._check(t,f+R)),t.set(new u(e.buffer,e.byteOffset+L,R),f),v=L+R<<3,f+=R}return t.length==f?t:t.slice(0,f)},d.F._check=function(e,t){var u=e.length;if(t<=u)return e;var s=new Uint8Array(Math.max(u<<1,t));return s.set(e,0),s},d.F._decodeTiny=function(e,t,u,s,m,w){for(var r=d.F._bitsE,i=d.F._get17,n=0;n<u;){var a=e[i(s,m)&t];m+=15&a;var h=a>>>4;if(h<=15)w[n]=h,n++;else{var U=0,I=0;h==16?(I=3+r(s,m,2),m+=2,U=w[n-1]):h==17?(I=3+r(s,m,3),m+=3):h==18&&(I=11+r(s,m,7),m+=7);for(var b=n+I;n<b;)w[n]=U,n++}}return m},d.F._copyOut=function(e,t,u,s){for(var m=0,w=0,r=s.length>>>1;w<u;){var i=e[w+t];s[w<<1]=0,s[1+(w<<1)]=i,i>m&&(m=i),w++}for(;w<r;)s[w<<1]=0,s[1+(w<<1)]=0,w++;return m},d.F.makeCodes=function(e,t){for(var u,s,m,w,r=d.F.U,i=e.length,n=r.bl_count,a=0;a<=t;a++)n[a]=0;for(a=1;a<i;a+=2)n[e[a]]++;var h=r.next_code;for(u=0,n[0]=0,s=1;s<=t;s++)u=u+n[s-1]<<1,h[s]=u;for(m=0;m<i;m+=2)(w=e[m+1])!=0&&(e[m]=h[w],h[w]++)},d.F.codes2map=function(e,t,u){for(var s=e.length,m=d.F.U.rev15,w=0;w<s;w+=2)if(e[w+1]!=0)for(var r=w>>1,i=e[w+1],n=r<<4|i,a=t-i,h=e[w]<<a,U=h+(1<<a);h!=U;)u[m[h]>>>15-t]=n,h++},d.F.revCodes=function(e,t){for(var u=d.F.U.rev15,s=15-t,m=0;m<e.length;m+=2){var w=e[m]<<t-e[m+1];e[m]=u[w]>>>s}},d.F._putsE=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8},d.F._putsF=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8,e[s+2]|=u>>>16},d.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},d.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(S=Uint16Array,P=Uint32Array,{next_code:new S(16),bl_count:new S(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new S(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new P(32),flmap:new S(512),fltree:[],fdmap:new S(32),fdtree:[],lmap:new S(32768),ltree:[],ttree:[],dmap:new S(32768),dtree:[],imap:new S(512),itree:[],rev15:new S(32768),lhst:new P(286),dhst:new P(30),ihst:new P(19),lits:new P(15e3),strt:new S(65536),prev:new S(32768)}),(function(){for(var e=d.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function s(m,w,r){for(;w--!=0;)m.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),s(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)})()})();var lt=at({__proto__:null,default:je},[je]);const he=(function(){var _={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let a="";for(let h=0;h<n;h++)a+=String.fromCharCode(r[i+h]);return a},writeASCII(r,i,n){for(let a=0;a<n.length;a++)r[i+a]=n.charCodeAt(a)},readBytes(r,i,n){const a=[];for(let h=0;h<n;h++)a.push(r[i+h]);return a},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let a,h="";for(let U=0;U<n;U++)h+=`%${_.pad(r[i+U].toString(16))}`;try{a=decodeURIComponent(h)}catch{return _.readASCII(r,i,n)}return a}};function S(r,i,n,a){const h=i*n,U=t(a),I=Math.ceil(i*U/8),b=new Uint8Array(4*h),k=new Uint32Array(b.buffer),{ctype:T}=a,{depth:E}=a,O=_.readUshort;if(T==6){const F=h<<2;if(E==8)for(var g=0;g<F;g+=4)b[g]=r[g],b[g+1]=r[g+1],b[g+2]=r[g+2],b[g+3]=r[g+3];if(E==16)for(g=0;g<F;g++)b[g]=r[g<<1]}else if(T==2){const F=a.tabs.tRNS;if(F==null){if(E==8)for(g=0;g<h;g++){var M=3*g;k[g]=255<<24|r[M+2]<<16|r[M+1]<<8|r[M]}if(E==16)for(g=0;g<h;g++)M=6*g,k[g]=255<<24|r[M+4]<<16|r[M+2]<<8|r[M]}else{var l=F[0];const j=F[1],z=F[2];if(E==8)for(g=0;g<h;g++){var f=g<<2;M=3*g,k[g]=255<<24|r[M+2]<<16|r[M+1]<<8|r[M],r[M]==l&&r[M+1]==j&&r[M+2]==z&&(b[f+3]=0)}if(E==16)for(g=0;g<h;g++)f=g<<2,M=6*g,k[g]=255<<24|r[M+4]<<16|r[M+2]<<8|r[M],O(r,M)==l&&O(r,M+2)==j&&O(r,M+4)==z&&(b[f+3]=0)}}else if(T==3){const F=a.tabs.PLTE,j=a.tabs.tRNS,z=j?j.length:0;if(E==1)for(var v=0;v<n;v++){var y=v*I,A=v*i;for(g=0;g<i;g++){f=A+g<<2;var x=3*(p=r[y+(g>>3)]>>7-((7&g)<<0)&1);b[f]=F[x],b[f+1]=F[x+1],b[f+2]=F[x+2],b[f+3]=p<z?j[p]:255}}if(E==2)for(v=0;v<n;v++)for(y=v*I,A=v*i,g=0;g<i;g++)f=A+g<<2,x=3*(p=r[y+(g>>2)]>>6-((3&g)<<1)&3),b[f]=F[x],b[f+1]=F[x+1],b[f+2]=F[x+2],b[f+3]=p<z?j[p]:255;if(E==4)for(v=0;v<n;v++)for(y=v*I,A=v*i,g=0;g<i;g++)f=A+g<<2,x=3*(p=r[y+(g>>1)]>>4-((1&g)<<2)&15),b[f]=F[x],b[f+1]=F[x+1],b[f+2]=F[x+2],b[f+3]=p<z?j[p]:255;if(E==8)for(g=0;g<h;g++){var p;f=g<<2,x=3*(p=r[g]),b[f]=F[x],b[f+1]=F[x+1],b[f+2]=F[x+2],b[f+3]=p<z?j[p]:255}}else if(T==4){if(E==8)for(g=0;g<h;g++){f=g<<2;var C=r[c=g<<1];b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=r[c+1]}if(E==16)for(g=0;g<h;g++){var c;f=g<<2,C=r[c=g<<2],b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=r[c+2]}}else if(T==0)for(l=a.tabs.tRNS?a.tabs.tRNS:-1,v=0;v<n;v++){const F=v*I,j=v*i;if(E==1)for(var o=0;o<i;o++){var N=(C=255*(r[F+(o>>>3)]>>>7-(7&o)&1))==255*l?0:255;k[j+o]=N<<24|C<<16|C<<8|C}else if(E==2)for(o=0;o<i;o++)N=(C=85*(r[F+(o>>>2)]>>>6-((3&o)<<1)&3))==85*l?0:255,k[j+o]=N<<24|C<<16|C<<8|C;else if(E==4)for(o=0;o<i;o++)N=(C=17*(r[F+(o>>>1)]>>>4-((1&o)<<2)&15))==17*l?0:255,k[j+o]=N<<24|C<<16|C<<8|C;else if(E==8)for(o=0;o<i;o++)N=(C=r[F+o])==l?0:255,k[j+o]=N<<24|C<<16|C<<8|C;else if(E==16)for(o=0;o<i;o++)C=r[F+(o<<1)],N=O(r,F+(o<<1))==l?0:255,k[j+o]=N<<24|C<<16|C<<8|C}return b}function P(r,i,n,a){const h=t(r),U=Math.ceil(n*h/8),I=new Uint8Array((U+1+r.interlace)*a);return i=r.tabs.CgBI?e(i,I):d(i,I),r.interlace==0?i=u(i,r,0,n,a):r.interlace==1&&(i=(function(k,T){const E=T.width,O=T.height,g=t(T),M=g>>3,l=Math.ceil(E*g/8),f=new Uint8Array(O*l);let v=0;const y=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],x=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const o=x[C],N=p[C];let F=0,j=0,z=y[C];for(;z<O;)z+=o,j++;let H=A[C];for(;H<E;)H+=N,F++;const D=Math.ceil(F*g/8);u(k,T,v,F,j);let L=0,R=y[C];for(;R<O;){let Q=A[C],Z=v+L*D<<3;for(;Q<E;){var c;if(g==1&&(c=(c=k[Z>>3])>>7-(7&Z)&1,f[R*l+(Q>>3)]|=c<<7-((7&Q)<<0)),g==2&&(c=(c=k[Z>>3])>>6-(7&Z)&3,f[R*l+(Q>>2)]|=c<<6-((3&Q)<<1)),g==4&&(c=(c=k[Z>>3])>>4-(7&Z)&15,f[R*l+(Q>>1)]|=c<<4-((1&Q)<<2)),g>=8){const G=R*l+Q*M;for(let W=0;W<M;W++)f[G+W]=k[(Z>>3)+W]}Z+=g,Q+=N}L++,R+=o}F*j!=0&&(v+=j*(1+D)),C+=1}return f})(i,r)),i}function d(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=(function(){const r={H:{}};return r.H.N=function(i,n){const a=Uint8Array;let h,U,I=0,b=0,k=0,T=0,E=0,O=0,g=0,M=0,l=0;if(i[0]==3&&i[1]==0)return n||new a(0);const f=r.H,v=f.b,y=f.e,A=f.R,x=f.n,p=f.A,C=f.Z,c=f.m,o=n==null;for(o&&(n=new a(i.length>>>2<<5));I==0;)if(I=v(i,l,1),b=v(i,l+1,2),l+=3,b!=0){if(o&&(n=r.H.W(n,M+(1<<17))),b==1&&(h=c.J,U=c.h,O=511,g=31),b==2){k=y(i,l,5)+257,T=y(i,l+5,5)+1,E=y(i,l+10,4)+4,l+=14;let F=1;for(var N=0;N<38;N+=2)c.Q[N]=0,c.Q[N+1]=0;for(N=0;N<E;N++){const H=y(i,l+3*N,3);c.Q[1+(c.X[N]<<1)]=H,H>F&&(F=H)}l+=3*E,x(c.Q,F),p(c.Q,F,c.u),h=c.w,U=c.d,l=A(c.u,(1<<F)-1,k+T,i,l,c.v);const j=f.V(c.v,0,k,c.C);O=(1<<j)-1;const z=f.V(c.v,k,T,c.D);g=(1<<z)-1,x(c.C,j),p(c.C,j,h),x(c.D,z),p(c.D,z,U)}for(;;){const F=h[C(i,l)&O];l+=15&F;const j=F>>>4;if(!(j>>>8))n[M++]=j;else{if(j==256)break;{let z=M+j-254;if(j>264){const Q=c.q[j-257];z=M+(Q>>>3)+y(i,l,7&Q),l+=7&Q}const H=U[C(i,l)&g];l+=15&H;const D=H>>>4,L=c.c[D],R=(L>>>4)+v(i,l,15&L);for(l+=15&L;M<z;)n[M]=n[M++-R],n[M]=n[M++-R],n[M]=n[M++-R],n[M]=n[M++-R];M=z}}}}else{(7&l)!=0&&(l+=8-(7&l));const F=4+(l>>>3),j=i[F-4]|i[F-3]<<8;o&&(n=r.H.W(n,M+j)),n.set(new a(i.buffer,i.byteOffset+F,j),M),l=F+j<<3,M+=j}return n.length==M?n:n.slice(0,M)},r.H.W=function(i,n){const a=i.length;if(n<=a)return i;const h=new Uint8Array(a<<1);return h.set(i,0),h},r.H.R=function(i,n,a,h,U,I){const b=r.H.e,k=r.H.Z;let T=0;for(;T<a;){const E=i[k(h,U)&n];U+=15&E;const O=E>>>4;if(O<=15)I[T]=O,T++;else{let g=0,M=0;O==16?(M=3+b(h,U,2),U+=2,g=I[T-1]):O==17?(M=3+b(h,U,3),U+=3):O==18&&(M=11+b(h,U,7),U+=7);const l=T+M;for(;T<l;)I[T]=g,T++}}return U},r.H.V=function(i,n,a,h){let U=0,I=0;const b=h.length>>>1;for(;I<a;){const k=i[I+n];h[I<<1]=0,h[1+(I<<1)]=k,k>U&&(U=k),I++}for(;I<b;)h[I<<1]=0,h[1+(I<<1)]=0,I++;return U},r.H.n=function(i,n){const a=r.H.m,h=i.length;let U,I,b,k;const T=a.j;for(var E=0;E<=n;E++)T[E]=0;for(E=1;E<h;E+=2)T[i[E]]++;const O=a.K;for(U=0,T[0]=0,I=1;I<=n;I++)U=U+T[I-1]<<1,O[I]=U;for(b=0;b<h;b+=2)k=i[b+1],k!=0&&(i[b]=O[k],O[k]++)},r.H.A=function(i,n,a){const h=i.length,U=r.H.m.r;for(let I=0;I<h;I+=2)if(i[I+1]!=0){const b=I>>1,k=i[I+1],T=b<<4|k,E=n-k;let O=i[I]<<E;const g=O+(1<<E);for(;O!=g;)a[U[O]>>>15-n]=T,O++}},r.H.l=function(i,n){const a=r.H.m.r,h=15-n;for(let U=0;U<i.length;U+=2){const I=i[U]<<n-i[U+1];i[U]=a[I]>>>h}},r.H.M=function(i,n,a){a<<=7&n;const h=n>>>3;i[h]|=a,i[h+1]|=a>>>8},r.H.I=function(i,n,a){a<<=7&n;const h=n>>>3;i[h]|=a,i[h+1]|=a>>>8,i[h+2]|=a>>>16},r.H.e=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<a)-1},r.H.b=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<a)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=(function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=r.H.m;for(var n=0;n<32768;n++){let h=n;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[n]=(h>>>16|h<<16)>>>17}function a(h,U,I){for(;U--!=0;)h.push(0,I)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),a(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)})(),r.H.N})();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function u(r,i,n,a,h){let U=t(i);const I=Math.ceil(a*U/8);let b,k;U=Math.ceil(U/8);let T=r[n],E=0;if(T>1&&(r[n]=[0,0,1][T-2]),T==3)for(E=U;E<I;E++)r[E+1]=r[E+1]+(r[E+1-U]>>>1)&255;for(let O=0;O<h;O++)if(b=n+O*I,k=b+O+1,T=r[k-1],E=0,T==0)for(;E<I;E++)r[b+E]=r[k+E];else if(T==1){for(;E<U;E++)r[b+E]=r[k+E];for(;E<I;E++)r[b+E]=r[k+E]+r[b+E-U]}else if(T==2)for(;E<I;E++)r[b+E]=r[k+E]+r[b+E-I];else if(T==3){for(;E<U;E++)r[b+E]=r[k+E]+(r[b+E-I]>>>1);for(;E<I;E++)r[b+E]=r[k+E]+(r[b+E-I]+r[b+E-U]>>>1)}else{for(;E<U;E++)r[b+E]=r[k+E]+s(0,r[b+E-I],0);for(;E<I;E++)r[b+E]=r[k+E]+s(r[b+E-U],r[b+E-I],r[b+E-U-I])}return r}function s(r,i,n){const a=r+i-n,h=a-r,U=a-i,I=a-n;return h*h<=U*U&&h*h<=I*I?r:U*U<=I*I?i:n}function m(r,i,n){n.width=_.readUint(r,i),i+=4,n.height=_.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function w(r,i,n,a,h,U,I,b,k){const T=Math.min(i,h),E=Math.min(n,U);let O=0,g=0;for(let C=0;C<E;C++)for(let c=0;c<T;c++)if(I>=0&&b>=0?(O=C*i+c<<2,g=(b+C)*h+I+c<<2):(O=(-b+C)*i-I+c<<2,g=C*h+c<<2),k==0)a[g]=r[O],a[g+1]=r[O+1],a[g+2]=r[O+2],a[g+3]=r[O+3];else if(k==1){var M=r[O+3]*.00392156862745098,l=r[O]*M,f=r[O+1]*M,v=r[O+2]*M,y=a[g+3]*(1/255),A=a[g]*y,x=a[g+1]*y,p=a[g+2]*y;const o=1-M,N=M+y*o,F=N==0?0:1/N;a[g+3]=255*N,a[g+0]=(l+A*o)*F,a[g+1]=(f+x*o)*F,a[g+2]=(v+p*o)*F}else if(k==2)M=r[O+3],l=r[O],f=r[O+1],v=r[O+2],y=a[g+3],A=a[g],x=a[g+1],p=a[g+2],M==y&&l==A&&f==x&&v==p?(a[g]=0,a[g+1]=0,a[g+2]=0,a[g+3]=0):(a[g]=l,a[g+1]=f,a[g+2]=v,a[g+3]=M);else if(k==3){if(M=r[O+3],l=r[O],f=r[O+1],v=r[O+2],y=a[g+3],A=a[g],x=a[g+1],p=a[g+2],M==y&&l==A&&f==x&&v==p)continue;if(M<220&&y>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let a=8;const h=_,U=h.readUshort,I=h.readUint,b={tabs:{},frames:[]},k=new Uint8Array(n.length);let T,E=0,O=0;const g=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(n[M]!=g[M])throw"The input is not a PNG file!";for(;a<n.length;){const C=h.readUint(n,a);a+=4;const c=h.readASCII(n,a,4);if(a+=4,c=="IHDR")m(n,a,b);else if(c=="iCCP"){for(var l=a;n[l]!=0;)l++;h.readASCII(n,a,l-a),n[l+1];const o=n.slice(l+2,a+C);let N=null;try{N=d(o)}catch{N=e(o)}b.tabs[c]=N}else if(c=="CgBI")b.tabs[c]=n.slice(a,a+4);else if(c=="IDAT"){for(M=0;M<C;M++)k[E+M]=n[a+M];E+=C}else if(c=="acTL")b.tabs[c]={num_frames:I(n,a),num_plays:I(n,a+4)},T=new Uint8Array(n.length);else if(c=="fcTL"){O!=0&&((p=b.frames[b.frames.length-1]).data=P(b,T.slice(0,O),p.rect.width,p.rect.height),O=0);const o={x:I(n,a+12),y:I(n,a+16),width:I(n,a+4),height:I(n,a+8)};let N=U(n,a+22);N=U(n,a+20)/(N==0?100:N);const F={rect:o,delay:Math.round(1e3*N),dispose:n[a+24],blend:n[a+25]};b.frames.push(F)}else if(c=="fdAT"){for(M=0;M<C-4;M++)T[O+M]=n[a+M+4];O+=C-4}else if(c=="pHYs")b.tabs[c]=[h.readUint(n,a),h.readUint(n,a+4),n[a+8]];else if(c=="cHRM")for(b.tabs[c]=[],M=0;M<8;M++)b.tabs[c].push(h.readUint(n,a+4*M));else if(c=="tEXt"||c=="zTXt"){b.tabs[c]==null&&(b.tabs[c]={});var f=h.nextZero(n,a),v=h.readASCII(n,a,f-a),y=a+C-f-1;if(c=="tEXt")x=h.readASCII(n,f+1,y);else{var A=d(n.slice(f+2,f+2+y));x=h.readUTF8(A,0,A.length)}b.tabs[c][v]=x}else if(c=="iTXt"){b.tabs[c]==null&&(b.tabs[c]={}),f=0,l=a,f=h.nextZero(n,l),v=h.readASCII(n,l,f-l);const o=n[l=f+1];var x;n[l+1],l+=2,f=h.nextZero(n,l),h.readASCII(n,l,f-l),l=f+1,f=h.nextZero(n,l),h.readUTF8(n,l,f-l),y=C-((l=f+1)-a),o==0?x=h.readUTF8(n,l,y):(A=d(n.slice(l,l+y)),x=h.readUTF8(A,0,A.length)),b.tabs[c][v]=x}else if(c=="PLTE")b.tabs[c]=h.readBytes(n,a,C);else if(c=="hIST"){const o=b.tabs.PLTE.length/3;for(b.tabs[c]=[],M=0;M<o;M++)b.tabs[c].push(U(n,a+2*M))}else if(c=="tRNS")b.ctype==3?b.tabs[c]=h.readBytes(n,a,C):b.ctype==0?b.tabs[c]=U(n,a):b.ctype==2&&(b.tabs[c]=[U(n,a),U(n,a+2),U(n,a+4)]);else if(c=="gAMA")b.tabs[c]=h.readUint(n,a)/1e5;else if(c=="sRGB")b.tabs[c]=n[a];else if(c=="bKGD")b.ctype==0||b.ctype==4?b.tabs[c]=[U(n,a)]:b.ctype==2||b.ctype==6?b.tabs[c]=[U(n,a),U(n,a+2),U(n,a+4)]:b.ctype==3&&(b.tabs[c]=n[a]);else if(c=="IEND")break;a+=C,h.readUint(n,a),a+=4}var p;return O!=0&&((p=b.frames[b.frames.length-1]).data=P(b,T.slice(0,O),p.rect.width,p.rect.height)),b.data=P(b,k,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const n=i.width,a=i.height;if(i.tabs.acTL==null)return[S(i.data,n,a,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*a*4,I=new Uint8Array(U),b=new Uint8Array(U),k=new Uint8Array(U);for(let E=0;E<i.frames.length;E++){const O=i.frames[E],g=O.rect.x,M=O.rect.y,l=O.rect.width,f=O.rect.height,v=S(O.data,l,f,i);if(E!=0)for(var T=0;T<U;T++)k[T]=I[T];if(O.blend==0?w(v,l,f,I,n,a,g,M,0):O.blend==1&&w(v,l,f,I,n,a,g,M,1),h.push(I.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)w(b,l,f,I,n,a,g,M,0);else if(O.dispose==2)for(T=0;T<U;T++)I[T]=k[T]}}return h},_paeth:s,_copyTile:w,_bin:_}})();(function(){const{_copyTile:_}=he,{_bin:S}=he,P=he._paeth;var d={table:(function(){const l=new Uint32Array(256);for(let f=0;f<256;f++){let v=f;for(let y=0;y<8;y++)1&v?v=3988292384^v>>>1:v>>>=1;l[f]=v}return l})(),update(l,f,v,y){for(let A=0;A<y;A++)l=d.table[255&(l^f[v+A])]^l>>>8;return l},crc:(l,f,v)=>4294967295^d.update(4294967295,l,f,v)};function e(l,f,v,y){f[v]+=l[0]*y>>4,f[v+1]+=l[1]*y>>4,f[v+2]+=l[2]*y>>4,f[v+3]+=l[3]*y>>4}function t(l){return Math.max(0,Math.min(255,l))}function u(l,f){const v=l[0]-f[0],y=l[1]-f[1],A=l[2]-f[2],x=l[3]-f[3];return v*v+y*y+A*A+x*x}function s(l,f,v,y,A,x,p){p==null&&(p=1);const C=y.length,c=[];for(var o=0;o<C;o++){const R=y[o];c.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(o=0;o<C;o++){let R=4294967295;for(var N=0,F=0;F<C;F++){var j=u(c[o],c[F]);F!=o&&j<R&&(R=j,N=F)}}const z=new Uint32Array(A.buffer),H=new Int16Array(f*v*4),D=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<D.length;o++)D[o]=255*((D[o]+.5)/16-.5);for(let R=0;R<v;R++)for(let Q=0;Q<f;Q++){var L;o=4*(R*f+Q),p!=2?L=[t(l[o]+H[o]),t(l[o+1]+H[o+1]),t(l[o+2]+H[o+2]),t(l[o+3]+H[o+3])]:(j=D[4*(3&R)+(3&Q)],L=[t(l[o]+j),t(l[o+1]+j),t(l[o+2]+j),t(l[o+3]+j)]),N=0;let Z=16777215;for(F=0;F<C;F++){const q=u(L,c[F]);q<Z&&(Z=q,N=F)}const G=c[N],W=[L[0]-G[0],L[1]-G[1],L[2]-G[2],L[3]-G[3]];p==1&&(Q!=f-1&&e(W,H,o+4,7),R!=v-1&&(Q!=0&&e(W,H,o+4*f-4,3),e(W,H,o+4*f,5),Q!=f-1&&e(W,H,o+4*f+4,1))),x[o>>2]=N,z[o>>2]=y[N]}}function m(l,f,v,y,A){A==null&&(A={});const{crc:x}=d,p=S.writeUint,C=S.writeUshort,c=S.writeASCII;let o=8;const N=l.frames.length>1;let F,j=!1,z=33+(N?20:0);if(A.sRGB!=null&&(z+=13),A.pHYs!=null&&(z+=21),A.iCCP!=null&&(F=pako.deflate(A.iCCP),z+=21+F.length+4),l.ctype==3){for(var H=l.plte.length,D=0;D<H;D++)l.plte[D]>>>24!=255&&(j=!0);z+=8+3*H+4+(j?8+1*H+4:0)}for(var L=0;L<l.frames.length;L++)N&&(z+=38),z+=(G=l.frames[L]).cimg.length+12,L!=0&&(z+=4);z+=12;const R=new Uint8Array(z),Q=[137,80,78,71,13,10,26,10];for(D=0;D<8;D++)R[D]=Q[D];if(p(R,o,13),o+=4,c(R,o,"IHDR"),o+=4,p(R,o,f),o+=4,p(R,o,v),o+=4,R[o]=l.depth,o++,R[o]=l.ctype,o++,R[o]=0,o++,R[o]=0,o++,R[o]=0,o++,p(R,o,x(R,o-17,17)),o+=4,A.sRGB!=null&&(p(R,o,1),o+=4,c(R,o,"sRGB"),o+=4,R[o]=A.sRGB,o++,p(R,o,x(R,o-5,5)),o+=4),A.iCCP!=null){const W=13+F.length;p(R,o,W),o+=4,c(R,o,"iCCP"),o+=4,c(R,o,"ICC profile"),o+=11,o+=2,R.set(F,o),o+=F.length,p(R,o,x(R,o-(W+4),W+4)),o+=4}if(A.pHYs!=null&&(p(R,o,9),o+=4,c(R,o,"pHYs"),o+=4,p(R,o,A.pHYs[0]),o+=4,p(R,o,A.pHYs[1]),o+=4,R[o]=A.pHYs[2],o++,p(R,o,x(R,o-13,13)),o+=4),N&&(p(R,o,8),o+=4,c(R,o,"acTL"),o+=4,p(R,o,l.frames.length),o+=4,p(R,o,A.loop!=null?A.loop:0),o+=4,p(R,o,x(R,o-12,12)),o+=4),l.ctype==3){for(p(R,o,3*(H=l.plte.length)),o+=4,c(R,o,"PLTE"),o+=4,D=0;D<H;D++){const W=3*D,q=l.plte[D],Y=255&q,te=q>>>8&255,ye=q>>>16&255;R[o+W+0]=Y,R[o+W+1]=te,R[o+W+2]=ye}if(o+=3*H,p(R,o,x(R,o-3*H-4,3*H+4)),o+=4,j){for(p(R,o,H),o+=4,c(R,o,"tRNS"),o+=4,D=0;D<H;D++)R[o+D]=l.plte[D]>>>24&255;o+=H,p(R,o,x(R,o-H-4,H+4)),o+=4}}let Z=0;for(L=0;L<l.frames.length;L++){var G=l.frames[L];N&&(p(R,o,26),o+=4,c(R,o,"fcTL"),o+=4,p(R,o,Z++),o+=4,p(R,o,G.rect.width),o+=4,p(R,o,G.rect.height),o+=4,p(R,o,G.rect.x),o+=4,p(R,o,G.rect.y),o+=4,C(R,o,y[L]),o+=2,C(R,o,1e3),o+=2,R[o]=G.dispose,o++,R[o]=G.blend,o++,p(R,o,x(R,o-30,30)),o+=4);const W=G.cimg;p(R,o,(H=W.length)+(L==0?0:4)),o+=4;const q=o;c(R,o,L==0?"IDAT":"fdAT"),o+=4,L!=0&&(p(R,o,Z++),o+=4),R.set(W,o),o+=H,p(R,o,x(R,q,o-q)),o+=4}return p(R,o,0),o+=4,c(R,o,"IEND"),o+=4,p(R,o,x(R,o-4,4)),o+=4,R.buffer}function w(l,f,v){for(let y=0;y<l.frames.length;y++){const A=l.frames[y];A.rect.width;const x=A.rect.height,p=new Uint8Array(x*A.bpl+x);A.cimg=a(A.img,x,A.bpp,A.bpl,p,f,v)}}function r(l,f,v,y,A){const x=A[0],p=A[1],C=A[2],c=A[3],o=A[4],N=A[5];let F=6,j=8,z=255;for(var H=0;H<l.length;H++){const re=new Uint8Array(l[H]);for(var D=re.length,L=0;L<D;L+=4)z&=re[L+3]}const R=z!=255,Q=(function(V,$,ne,ae,J,le){const ee=[];for(var K=0;K<V.length;K++){const se=new Uint8Array(V[K]),de=new Uint32Array(se.buffer);var ce;let ue=0,ve=0,me=$,xe=ne,He=ae?1:0;if(K!=0){const it=le||ae||K==1||ee[K-2].dispose!=0?1:2;let De=0,We=1e9;for(let Re=0;Re<it;Re++){var be=new Uint8Array(V[K-1-Re]);const ot=new Uint32Array(V[K-1-Re]);let Ae=$,we=ne,Ee=-1,Me=-1;for(let Fe=0;Fe<ne;Fe++)for(let Ce=0;Ce<$;Ce++)de[ie=Fe*$+Ce]!=ot[ie]&&(Ce<Ae&&(Ae=Ce),Ce>Ee&&(Ee=Ce),Fe<we&&(we=Fe),Fe>Me&&(Me=Fe));Ee==-1&&(Ae=we=Ee=Me=0),J&&((1&Ae)==1&&Ae--,(1&we)==1&&we--);const Ge=(Ee-Ae+1)*(Me-we+1);Ge<We&&(We=Ge,De=Re,ue=Ae,ve=we,me=Ee-Ae+1,xe=Me-we+1)}be=new Uint8Array(V[K-1-De]),De==1&&(ee[K-1].dispose=2),ce=new Uint8Array(me*xe*4),_(be,$,ne,ce,me,xe,-ue,-ve,0),He=_(se,$,ne,ce,me,xe,-ue,-ve,3)?1:0,He==1?n(se,$,ne,ce,{x:ue,y:ve,width:me,height:xe}):_(se,$,ne,ce,me,xe,-ue,-ve,0)}else ce=se.slice(0);ee.push({rect:{x:ue,y:ve,width:me,height:xe},img:ce,blend:He,dispose:0})}if(ae)for(K=0;K<ee.length;K++){if((Ue=ee[K]).blend==1)continue;const se=Ue.rect,de=ee[K-1].rect,ue=Math.min(se.x,de.x),ve=Math.min(se.y,de.y),me={x:ue,y:ve,width:Math.max(se.x+se.width,de.x+de.width)-ue,height:Math.max(se.y+se.height,de.y+de.height)-ve};ee[K-1].dispose=1,K-1!=0&&i(V,$,ne,ee,K-1,me,J),i(V,$,ne,ee,K,me,J)}let Se=0;if(V.length!=1)for(var ie=0;ie<ee.length;ie++){var Ue;Se+=(Ue=ee[ie]).rect.width*Ue.rect.height}return ee})(l,f,v,x,p,C),Z={},G=[],W=[];if(y!=0){const re=[];for(L=0;L<Q.length;L++)re.push(Q[L].img.buffer);const V=(function(J){let le=0;for(var ee=0;ee<J.length;ee++)le+=J[ee].byteLength;const K=new Uint8Array(le);let ce=0;for(ee=0;ee<J.length;ee++){const be=new Uint8Array(J[ee]),Se=be.length;for(let ie=0;ie<Se;ie+=4){let Ue=be[ie],se=be[ie+1],de=be[ie+2];const ue=be[ie+3];ue==0&&(Ue=se=de=0),K[ce+ie]=Ue,K[ce+ie+1]=se,K[ce+ie+2]=de,K[ce+ie+3]=ue}ce+=Se}return K.buffer})(re),$=U(V,y);for(L=0;L<$.plte.length;L++)G.push($.plte[L].est.rgba);let ne=0;for(L=0;L<Q.length;L++){const ae=(Y=Q[L]).img.length;var q=new Uint8Array($.inds.buffer,ne>>2,ae>>2);W.push(q);const J=new Uint8Array($.abuf,ne,ae);N&&s(Y.img,Y.rect.width,Y.rect.height,G,J,q),Y.img.set(J),ne+=ae}}else for(H=0;H<Q.length;H++){var Y=Q[H];const re=new Uint32Array(Y.img.buffer);var te=Y.rect.width;for(D=re.length,q=new Uint8Array(D),W.push(q),L=0;L<D;L++){const V=re[L];if(L!=0&&V==re[L-1])q[L]=q[L-1];else if(L>te&&V==re[L-te])q[L]=q[L-te];else{let $=Z[V];if($==null&&(Z[V]=$=G.length,G.push(V),G.length>=300))break;q[L]=$}}}const ye=G.length;for(ye<=256&&o==0&&(j=ye<=2?1:ye<=4?2:ye<=16?4:8,j=Math.max(j,c)),H=0;H<Q.length;H++){(Y=Q[H]).rect.x,Y.rect.y,te=Y.rect.width;const re=Y.rect.height;let V=Y.img;new Uint32Array(V.buffer);let $=4*te,ne=4;if(ye<=256&&o==0){$=Math.ceil(j*te/8);var ge=new Uint8Array($*re);const ae=W[H];for(let J=0;J<re;J++){L=J*$;const le=J*te;if(j==8)for(var X=0;X<te;X++)ge[L+X]=ae[le+X];else if(j==4)for(X=0;X<te;X++)ge[L+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(j==2)for(X=0;X<te;X++)ge[L+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(j==1)for(X=0;X<te;X++)ge[L+(X>>3)]|=ae[le+X]<<7-1*(7&X)}V=ge,F=3,ne=1}else if(R==0&&Q.length==1){ge=new Uint8Array(te*re*3);const ae=te*re;for(L=0;L<ae;L++){const J=3*L,le=4*L;ge[J]=V[le],ge[J+1]=V[le+1],ge[J+2]=V[le+2]}V=ge,F=2,ne=3,$=3*te}Y.img=V,Y.bpl=$,Y.bpp=ne}return{ctype:F,depth:j,plte:G,frames:Q}}function i(l,f,v,y,A,x,p){const C=Uint8Array,c=Uint32Array,o=new C(l[A-1]),N=new c(l[A-1]),F=A+1<l.length?new C(l[A+1]):null,j=new C(l[A]),z=new c(j.buffer);let H=f,D=v,L=-1,R=-1;for(let Z=0;Z<x.height;Z++)for(let G=0;G<x.width;G++){const W=x.x+G,q=x.y+Z,Y=q*f+W,te=z[Y];te==0||y[A-1].dispose==0&&N[Y]==te&&(F==null||F[4*Y+3]!=0)||(W<H&&(H=W),W>L&&(L=W),q<D&&(D=q),q>R&&(R=q))}L==-1&&(H=D=L=R=0),p&&((1&H)==1&&H--,(1&D)==1&&D--),x={x:H,y:D,width:L-H+1,height:R-D+1};const Q=y[A];Q.rect=x,Q.blend=1,Q.img=new Uint8Array(x.width*x.height*4),y[A-1].dispose==0?(_(o,f,v,Q.img,x.width,x.height,-x.x,-x.y,0),n(j,f,v,Q.img,x)):_(j,f,v,Q.img,x.width,x.height,-x.x,-x.y,0)}function n(l,f,v,y,A){_(l,f,v,y,A.width,A.height,-A.x,-A.y,2)}function a(l,f,v,y,A,x,p){const C=[];let c,o=[0,1,2,3,4];x!=-1?o=[x]:(f*y>5e5||v==1)&&(o=[0]),p&&(c={level:0});const N=lt;for(var F=0;F<o.length;F++){for(let H=0;H<f;H++)h(A,l,H,y,v,o[F]);C.push(N.deflate(A,c))}let j,z=1e9;for(F=0;F<C.length;F++)C[F].length<z&&(j=F,z=C[F].length);return C[j]}function h(l,f,v,y,A,x){const p=v*y;let C=p+v;if(l[C]=x,C++,x==0)if(y<500)for(var c=0;c<y;c++)l[C+c]=f[p+c];else l.set(new Uint8Array(f.buffer,p,y),C);else if(x==1){for(c=0;c<A;c++)l[C+c]=f[p+c];for(c=A;c<y;c++)l[C+c]=f[p+c]-f[p+c-A]+256&255}else if(v==0){for(c=0;c<A;c++)l[C+c]=f[p+c];if(x==2)for(c=A;c<y;c++)l[C+c]=f[p+c];if(x==3)for(c=A;c<y;c++)l[C+c]=f[p+c]-(f[p+c-A]>>1)+256&255;if(x==4)for(c=A;c<y;c++)l[C+c]=f[p+c]-P(f[p+c-A],0,0)+256&255}else{if(x==2)for(c=0;c<y;c++)l[C+c]=f[p+c]+256-f[p+c-y]&255;if(x==3){for(c=0;c<A;c++)l[C+c]=f[p+c]+256-(f[p+c-y]>>1)&255;for(c=A;c<y;c++)l[C+c]=f[p+c]+256-(f[p+c-y]+f[p+c-A]>>1)&255}if(x==4){for(c=0;c<A;c++)l[C+c]=f[p+c]+256-P(0,f[p+c-y],0)&255;for(c=A;c<y;c++)l[C+c]=f[p+c]+256-P(f[p+c-A],f[p+c-y],f[p+c-A-y])&255}}}function U(l,f){const v=new Uint8Array(l),y=v.slice(0),A=new Uint32Array(y.buffer),x=I(y,f),p=x[0],C=x[1],c=v.length,o=new Uint8Array(c>>2);let N;if(v.length<2e7)for(var F=0;F<c;F+=4)N=b(p,j=v[F]*(1/255),z=v[F+1]*(1/255),H=v[F+2]*(1/255),D=v[F+3]*(1/255)),o[F>>2]=N.ind,A[F>>2]=N.est.rgba;else for(F=0;F<c;F+=4){var j=v[F]*.00392156862745098,z=v[F+1]*(1/255),H=v[F+2]*(1/255),D=v[F+3]*(1/255);for(N=p;N.left;)N=k(N.est,j,z,H,D)<=0?N.left:N.right;o[F>>2]=N.ind,A[F>>2]=N.est.rgba}return{abuf:y.buffer,inds:o,plte:C}}function I(l,f,v){v==null&&(v=1e-4);const y=new Uint32Array(l.buffer),A={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=O(l,A.i0,A.i1),A.est=g(A.bst);const x=[A];for(;x.length<f;){let C=0,c=0;for(var p=0;p<x.length;p++)x[p].est.L>C&&(C=x[p].est.L,c=p);if(C<v)break;const o=x[c],N=T(l,y,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=N||o.i1<=N){o.est.L=0;continue}const F={i0:o.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};F.bst=O(l,F.i0,F.i1),F.est=g(F.bst);const j={i0:N,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:o.bst.N-F.bst.N},p=0;p<16;p++)j.bst.R[p]=o.bst.R[p]-F.bst.R[p];for(p=0;p<4;p++)j.bst.m[p]=o.bst.m[p]-F.bst.m[p];j.est=g(j.bst),o.left=F,o.right=j,x[c]=F,x.push(j)}for(x.sort(((C,c)=>c.bst.N-C.bst.N)),p=0;p<x.length;p++)x[p].ind=p;return[A,x]}function b(l,f,v,y,A){if(l.left==null)return l.tdst=(function(F,j,z,H,D){const L=j-F[0],R=z-F[1],Q=H-F[2],Z=D-F[3];return L*L+R*R+Q*Q+Z*Z})(l.est.q,f,v,y,A),l;const x=k(l.est,f,v,y,A);let p=l.left,C=l.right;x>0&&(p=l.right,C=l.left);const c=b(p,f,v,y,A);if(c.tdst<=x*x)return c;const o=b(C,f,v,y,A);return o.tdst<c.tdst?o:c}function k(l,f,v,y,A){const{e:x}=l;return x[0]*f+x[1]*v+x[2]*y+x[3]*A-l.eMq}function T(l,f,v,y,A,x){for(y-=4;v<y;){for(;E(l,v,A)<=x;)v+=4;for(;E(l,y,A)>x;)y-=4;if(v>=y)break;const p=f[v>>2];f[v>>2]=f[y>>2],f[y>>2]=p,v+=4,y-=4}for(;E(l,v,A)>x;)v-=4;return v+4}function E(l,f,v){return l[f]*v[0]+l[f+1]*v[1]+l[f+2]*v[2]+l[f+3]*v[3]}function O(l,f,v){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],x=v-f>>2;for(let p=f;p<v;p+=4){const C=l[p]*.00392156862745098,c=l[p+1]*(1/255),o=l[p+2]*(1/255),N=l[p+3]*(1/255);A[0]+=C,A[1]+=c,A[2]+=o,A[3]+=N,y[0]+=C*C,y[1]+=C*c,y[2]+=C*o,y[3]+=C*N,y[5]+=c*c,y[6]+=c*o,y[7]+=c*N,y[10]+=o*o,y[11]+=o*N,y[15]+=N*N}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:A,N:x}}function g(l){const{R:f}=l,{m:v}=l,{N:y}=l,A=v[0],x=v[1],p=v[2],C=v[3],c=y==0?0:1/y,o=[f[0]-A*A*c,f[1]-A*x*c,f[2]-A*p*c,f[3]-A*C*c,f[4]-x*A*c,f[5]-x*x*c,f[6]-x*p*c,f[7]-x*C*c,f[8]-p*A*c,f[9]-p*x*c,f[10]-p*p*c,f[11]-p*C*c,f[12]-C*A*c,f[13]-C*x*c,f[14]-C*p*c,f[15]-C*C*c],N=o,F=M;let j=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,H=0;if(y!=0)for(let L=0;L<16&&(j=F.multVec(N,j),H=Math.sqrt(F.dot(j,j)),j=F.sml(1/H,j),!(L!=0&&Math.abs(H-z)<1e-9));L++)z=H;const D=[A*c,x*c,p*c,C*c];return{Cov:o,q:D,e:j,L:z,eMq255:F.dot(F.sml(255,D),j),eMq:F.dot(j,D),rgba:(Math.round(255*D[3])<<24|Math.round(255*D[2])<<16|Math.round(255*D[1])<<8|Math.round(255*D[0])<<0)>>>0}}var M={multVec:(l,f)=>[l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],l[4]*f[0]+l[5]*f[1]+l[6]*f[2]+l[7]*f[3],l[8]*f[0]+l[9]*f[1]+l[10]*f[2]+l[11]*f[3],l[12]*f[0]+l[13]*f[1]+l[14]*f[2]+l[15]*f[3]],dot:(l,f)=>l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],sml:(l,f)=>[l*f[0],l*f[1],l*f[2],l*f[3]]};he.encode=function(f,v,y,A,x,p,C){A==null&&(A=0),C==null&&(C=!1);const c=r(f,v,y,A,[!1,!1,!1,0,C,!1]);return w(c,-1),m(c,v,y,x,p)},he.encodeLL=function(f,v,y,A,x,p,C,c){const o={ctype:0+(A==1?0:2)+(x==0?0:4),depth:p,frames:[]},N=(A+x)*p,F=N*v;for(let j=0;j<f.length;j++)o.frames.push({rect:{x:0,y:0,width:v,height:y},img:new Uint8Array(f[j]),blend:0,dispose:1,bpp:Math.ceil(N/8),bpl:Math.ceil(F/8)});return w(o,0,!0),m(o,v,y,C,c)},he.encode.compress=r,he.encode.dither=s,he.quantize=U,he.quantize.getKDtree=I,he.quantize.getNearest=b})();const Ke={toArrayBuffer(_,S){const P=_.width,d=_.height,e=P<<2,t=_.getContext("2d").getImageData(0,0,P,d),u=new Uint32Array(t.data.buffer),s=(32*P+31)/32<<2,m=s*d,w=122+m,r=new ArrayBuffer(w),i=new DataView(r),n=1<<20;let a,h,U,I,b=n,k=0,T=0,E=0;function O(l){i.setUint16(T,l,!0),T+=2}function g(l){i.setUint32(T,l,!0),T+=4}function M(l){T+=l}O(19778),g(w),M(4),g(122),g(108),g(P),g(-d>>>0),O(1),O(32),g(3),g(m),g(2835),g(2835),M(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),(function l(){for(;k<d&&b>0;){for(I=122+k*s,a=0;a<e;)b--,h=u[E++],U=h>>>24,i.setUint32(I+a,h<<8|U),a+=4;k++}E<u.length?(b=n,setTimeout(l,Ke._dly)):S(r)})()},toBlob(_,S){this.toArrayBuffer(_,(P=>{S(new Blob([P],{type:"image/bmp"}))}))},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ct={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Qe=typeof window<"u",Ze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=Qe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ut=(Qe||Ze)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ve=(Qe||Ze)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Be(_,S,P=Date.now()){return new Promise((d=>{const e=_.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let s=u.length;const m=new Uint8Array(s);for(;s--;)m[s]=u.charCodeAt(s);const w=new Blob([m],{type:t});w.name=S,w.lastModified=P,d(w)}))}function Xe(_){return new Promise(((S,P)=>{const d=new Ve;d.onload=()=>S(d.result),d.onerror=e=>P(e),d.readAsDataURL(_)}))}function Ye(_){return new Promise(((S,P)=>{const d=new Image;d.onload=()=>S(d),d.onerror=e=>P(e),d.src=_}))}function Ie(){if(Ie.cachedResult!==void 0)return Ie.cachedResult;let _=fe.ETC;const{userAgent:S}=navigator;return/Chrom(e|ium)/i.test(S)?_=fe.CHROME:/iP(ad|od|hone)/i.test(S)&&/WebKit/i.test(S)?_=fe.IOS:/Safari/i.test(S)?_=fe.DESKTOP_SAFARI:/Firefox/i.test(S)?_=fe.FIREFOX:(/MSIE/i.test(S)||document.documentMode)&&(_=fe.IE),Ie.cachedResult=_,Ie.cachedResult}function Je(_,S){const P=Ie(),d=ct[P];let e=_,t=S,u=e*t;const s=e>t?t/e:e/t;for(;u>d*d;){const m=(d+e)/2,w=(d+t)/2;m<w?(t=w,e=w*s):(t=m*s,e=m),u=e*t}return{width:e,height:t}}function Le(_,S){let P,d;try{if(P=new OffscreenCanvas(_,S),d=P.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{P=document.createElement("canvas"),d=P.getContext("2d")}return P.width=_,P.height=S,[P,d]}function et(_,S){const{width:P,height:d}=Je(_.width,_.height),[e,t]=Le(P,d);return S&&/jpe?g/.test(S)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(_,0,0,e.width,e.height),e}function Ne(){return Ne.cachedResult!==void 0||(Ne.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ne.cachedResult}function Pe(_,S={}){return new Promise((function(P,d){let e,t;var u=function(){try{return t=et(e,S.fileType||_.type),P([e,t])}catch(m){return d(m)}},s=function(m){try{var w=function(r){try{throw r}catch(i){return d(i)}};try{let r;return Xe(_).then((function(i){try{return r=i,Ye(r).then((function(n){try{return e=n,(function(){try{return u()}catch(a){return d(a)}})()}catch(a){return w(a)}}),w)}catch(n){return w(n)}}),w)}catch(r){w(r)}}catch(r){return d(r)}};try{if(Ne()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Ie()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(_).then((function(m){try{return e=m,u()}catch{return s()}}),s)}catch{s()}}))}function ke(_,S,P,d,e=1){return new Promise((function(t,u){let s;if(S==="image/png"){let w,r,i;return w=_.getContext("2d"),{data:r}=w.getImageData(0,0,_.width,_.height),i=he.encode([r.buffer],_.width,_.height,4096*e),s=new Blob([i],{type:S}),s.name=P,s.lastModified=d,m.call(this)}{let w=function(){return m.call(this)};if(S==="image/bmp")return new Promise((r=>Ke.toBlob(_,r))).then((function(r){try{return s=r,s.name=P,s.lastModified=d,w.call(this)}catch(i){return u(i)}}).bind(this),u);{let r=function(){return w.call(this)};if(typeof OffscreenCanvas=="function"&&_ instanceof OffscreenCanvas)return _.convertToBlob({type:S,quality:e}).then((function(i){try{return s=i,s.name=P,s.lastModified=d,r.call(this)}catch(n){return u(n)}}).bind(this),u);{let i;return i=_.toDataURL(S,e),Be(i,P,d).then((function(n){try{return s=n,r.call(this)}catch(a){return u(a)}}).bind(this),u)}}}function m(){return t(s)}}))}function pe(_){_.width=0,_.height=0}function _e(){return new Promise((function(_,S){let P,d,e,t;return _e.cachedResult!==void 0?_(_e.cachedResult):Be("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return P=u,Pe(P).then((function(s){try{return d=s[1],ke(d,P.type,P.name,P.lastModified).then((function(m){try{return e=m,pe(d),Pe(e).then((function(w){try{return t=w[0],_e.cachedResult=t.width===1&&t.height===2,_(_e.cachedResult)}catch(r){return S(r)}}),S)}catch(w){return S(w)}}),S)}catch(m){return S(m)}}),S)}catch(s){return S(s)}}),S)}))}function tt(_){return new Promise(((S,P)=>{const d=new Ve;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return S(-2);const u=t.byteLength;let s=2;for(;s<u;){if(t.getUint16(s+2,!1)<=8)return S(-1);const m=t.getUint16(s,!1);if(s+=2,m==65505){if(t.getUint32(s+=2,!1)!=1165519206)return S(-1);const w=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,w);const r=t.getUint16(s,w);s+=2;for(let i=0;i<r;i++)if(t.getUint16(s+12*i,w)==274)return S(t.getUint16(s+12*i+8,w))}else{if((65280&m)!=65280)break;s+=t.getUint16(s,!1)}}return S(-1)},d.onerror=e=>P(e),d.readAsArrayBuffer(_)}))}function nt(_,S){const{width:P}=_,{height:d}=_,{maxWidthOrHeight:e}=S;let t,u=_;return isFinite(e)&&(P>e||d>e)&&([u,t]=Le(P,d),P>d?(u.width=e,u.height=d/P*e):(u.width=P/d*e,u.height=e),t.drawImage(_,0,0,u.width,u.height),pe(_)),u}function rt(_,S){const{width:P}=_,{height:d}=_,[e,t]=Le(P,d);switch(S>4&&S<9?(e.width=d,e.height=P):(e.width=P,e.height=d),S){case 2:t.transform(-1,0,0,1,P,0);break;case 3:t.transform(-1,0,0,-1,P,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,P);break;case 8:t.transform(0,-1,1,0,0,P)}return t.drawImage(_,0,0,P,d),pe(_),e}function qe(_,S,P=0){return new Promise((function(d,e){let t,u,s,m,w,r,i,n,a,h,U,I,b,k,T,E,O,g,M,l;function f(y=5){if(S.signal&&S.signal.aborted)throw S.signal.reason;t+=y,S.onProgress(Math.min(t,100))}function v(y){if(S.signal&&S.signal.aborted)throw S.signal.reason;t=Math.min(Math.max(y,t),100),S.onProgress(t)}return t=P,u=S.maxIteration||10,s=1024*S.maxSizeMB*1024,f(),Pe(_,S).then((function(y){try{return[,m]=y,f(),w=nt(m,S),f(),new Promise((function(A,x){var p;if(!(p=S.exifOrientation))return tt(_).then((function(c){try{return p=c,C.call(this)}catch(o){return x(o)}}).bind(this),x);function C(){return A(p)}return C.call(this)})).then((function(A){try{return r=A,f(),_e().then((function(x){try{return i=x?w:rt(w,r),f(),n=S.initialQuality||1,a=S.fileType||_.type,ke(i,a,_.name,_.lastModified,n).then((function(p){try{{let c=function(){if(u--&&(T>s||T>b)){let N,F;return N=l?.95*M.width:M.width,F=l?.95*M.height:M.height,[O,g]=Le(N,F),g.drawImage(M,0,0,N,F),n*=a==="image/png"?.85:.95,ke(O,a,_.name,_.lastModified,n).then((function(j){try{return E=j,pe(M),M=O,T=E.size,v(Math.min(99,Math.floor((k-T)/(k-s)*100))),c}catch(z){return e(z)}}),e)}return[1]},o=function(){return pe(M),pe(O),pe(w),pe(i),pe(m),v(100),d(E)};if(h=p,f(),U=h.size>s,I=h.size>_.size,!U&&!I)return v(100),d(h);var C;return b=_.size,k=h.size,T=k,M=i,l=!S.alwaysKeepResolution&&U,(C=(function(N){for(;N;){if(N.then)return void N.then(C,e);try{if(N.pop){if(N.length)return N.pop()?o.call(this):N;N=c}else N=N.call(this)}catch(F){return e(F)}}}).bind(this))(c)}}catch(c){return e(c)}}).bind(this),e)}catch(p){return e(p)}}).bind(this),e)}catch(x){return e(x)}}).bind(this),e)}catch(A){return e(A)}}).bind(this),e)}))}const dt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ze;function ht(_,S){return new Promise(((P,d)=>{ze||(ze=(function(u){const s=[];return s.push(u),URL.createObjectURL(new Blob(s))})(dt));const e=new Worker(ze);e.addEventListener("message",(function(u){if(S.signal&&S.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return d(new Error(u.data.error)),void e.terminate();P(u.data.file),e.terminate()}else S.onProgress(u.data.progress)})),e.addEventListener("error",d),S.signal&&S.signal.addEventListener("abort",(()=>{d(S.signal.reason),e.terminate()})),e.postMessage({file:_,imageCompressionLibUrl:S.libURL,options:{...S,onProgress:void 0,signal:void 0}})}))}function oe(_,S){return new Promise((function(P,d){let e,t,u,s,m,w;if(e={...S},u=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{u=a,typeof s=="function"&&s(u)},!(_ instanceof Blob||_ instanceof ut))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(_.type))return d(new Error("The file given is not an image"));if(w=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||w)return qe(_,e).then((function(a){try{return t=a,n.call(this)}catch(h){return d(h)}}).bind(this),d);var r=(function(){try{return n.call(this)}catch(a){return d(a)}}).bind(this),i=function(a){try{return qe(_,e).then((function(h){try{return t=h,r()}catch(U){return d(U)}}),d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ht(_,e).then((function(a){try{return t=a,r()}catch{return i()}}),i)}catch{i()}function n(){try{t.name=_.name,t.lastModified=_.lastModified}catch{}try{e.preserveExif&&_.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===_.type)&&(t=$e(_,t))}catch{}return P(t)}}))}oe.getDataUrlFromFile=Xe,oe.getFilefromDataUrl=Be,oe.loadImage=Ye,oe.drawImageInCanvas=et,oe.drawFileInCanvas=Pe,oe.canvasToFile=ke,oe.getExifOrientation=tt,oe.handleMaxWidthOrHeight=nt,oe.followExifOrientation=rt,oe.cleanupCanvasMemory=pe,oe.isAutoOrientationInBrowser=_e,oe.approximateBelowMaximumCanvasSizeOfBrowser=Je,oe.copyExifWithoutOrientation=$e,oe.getBrowserName=Ie,oe.version="2.0.2";function mt(){const[_,S]=Te.useState(null),[P,d]=Te.useState(null),[e,t]=Te.useState(!1),[u,s]=Te.useState(.8),m=i=>{const n=i.target.files[0];n&&(S(n),d(null))},w=async()=>{if(!_)return;if(t(!0),_.type==="image/svg+xml"){const n=new FileReader;n.onload=a=>{const U=a.target.result.replace(/\s+/g," ").trim(),I=new Blob([U],{type:"image/svg+xml"});d(I),t(!1)},n.readAsText(_);return}const i={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:u};try{const n=await oe(_,i);d(n)}catch(n){console.error(n),alert("Compression failed! See console for details.")}finally{t(!1)}},r=i=>(i/1024/1024).toFixed(2)+" MB";return B.jsxs("div",{className:"container-fluid",children:[B.jsx("div",{className:"row",children:B.jsx("div",{className:"col-12",children:B.jsx("div",{className:"page-title-box",children:B.jsx("h4",{className:"page-title",children:"Image Compressor"})})})}),B.jsx("div",{className:"row",children:B.jsx("div",{className:"col-12",children:B.jsx("div",{className:"card",children:B.jsxs("div",{className:"card-body",children:[B.jsxs("div",{className:"mb-3",children:[B.jsx("label",{htmlFor:"image-upload-input",className:"form-label",children:"Upload Image (JPG, PNG, SVG, WEBP)"}),B.jsx("input",{id:"image-upload-input",type:"file",className:"form-control",accept:"image/*",onChange:m})]}),_&&B.jsxs("div",{className:"mb-4 p-3 bg-light rounded glass-panel",children:[B.jsx("h5",{children:"Settings"}),B.jsxs("div",{className:"row align-items-center",children:[B.jsxs("div",{className:"col-md-6",children:[B.jsx("label",{htmlFor:"quality-range",className:"form-label",children:"Quality (0.1 - 1.0)"}),B.jsx("input",{id:"quality-range",type:"range",className:"form-range",min:"0.1",max:"1",step:"0.1",value:u,onChange:i=>s(parseFloat(i.target.value)),disabled:_.type==="image/svg+xml"}),B.jsxs("div",{className:"text-muted small",children:["Current: ",u]})]}),B.jsx("div",{className:"col-md-6 text-end",children:B.jsxs("button",{className:"btn btn-primary",onClick:w,disabled:e,children:[e?B.jsx("span",{className:"spinner-border spinner-border-sm me-1"}):B.jsx("i",{className:"mdi mdi-zip-box me-1"}),"Compress Image"]})})]})]}),B.jsxs("div",{className:"row mt-4",children:[_&&B.jsx("div",{className:"col-md-6",children:B.jsx("div",{className:"card shadow-soft",children:B.jsxs("div",{className:"card-body text-center",children:[B.jsx("h6",{children:"Original"}),B.jsx("img",{src:URL.createObjectURL(_),alt:"Original",className:"img-fluid mb-2 rounded",style:{maxHeight:"200px"}}),B.jsx("p",{className:"mb-0 fw-bold",children:r(_.size)})]})})}),P&&B.jsx("div",{className:"col-md-6",children:B.jsx("div",{className:"card shadow-soft border-success",children:B.jsxs("div",{className:"card-body text-center",children:[B.jsx("h6",{className:"text-success",children:"Compressed Result"}),B.jsx("img",{src:URL.createObjectURL(P),alt:"Compressed",className:"img-fluid mb-2 rounded",style:{maxHeight:"200px"}}),B.jsxs("p",{className:"mb-0 fw-bold text-success",children:[r(P.size),B.jsxs("span",{className:"badge bg-success ms-2",children:["-",((1-P.size/_.size)*100).toFixed(0),"%"]})]}),B.jsxs("a",{href:URL.createObjectURL(P),download:`compressed-${_.name}`,className:"btn btn-success mt-2",children:[B.jsx("i",{className:"dripicons-download me-1"})," Download"]})]})})})]})]})})})})]})}export{mt as default};
