import{r as c,j as e}from"./index-DE4BetEr.js";import{P as f}from"./PDFButton-B7NhLNsL.js";import{C as P}from"./Card-DHFzCKMw.js";const v=()=>{const[a,i]=c.useState([]),[n,g]=c.useState(null),[o,d]=c.useState(!1),p=s=>{const r=Array.from(s.target.files).filter(t=>t.type==="application/pdf");i(t=>[...t,...r])},h=s=>{i(l=>l.filter((r,t)=>t!==s))},u=async()=>{if(a.length<2){alert("Please select at least two PDF files to merge.");return}d(!0);try{const s=await f.create();for(const x of a){const j=await x.arrayBuffer(),m=await f.load(j);(await s.copyPages(m,m.getPageIndices())).forEach(b=>s.addPage(b))}const l=await s.save(),r=new Blob([l],{type:"application/pdf"}),t=URL.createObjectURL(r);g(t)}catch(s){console.error("Error merging PDFs:",s),alert("An error occurred while merging the files.")}finally{d(!1)}};return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"page-title-box",children:e.jsx("h4",{className:"page-title",children:"Merge PDF Files"})})})}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-8",children:e.jsxs(P,{title:"Merge PDF Files",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"pdf-upload",className:"form-label",children:"Select PDF Files"}),e.jsx("input",{className:"form-control",type:"file",id:"pdf-upload",multiple:!0,accept:"application/pdf",onChange:p}),e.jsx("div",{className:"form-text",children:"Select multiple files. They will be merged in the order listed below."})]}),a.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{children:"Files to Merge:"}),e.jsx("ul",{className:"list-group",children:a.map((s,l)=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[s.name,e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>h(l),children:e.jsx("i",{className:"uil-trash"})})]},l))})]}),e.jsx("button",{className:"btn btn-primary w-100 fw-bold",onClick:u,disabled:a.length<2||o,children:o?"Merging...":"Merge PDFs"}),n&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("div",{className:"alert alert-success",children:[e.jsx("i",{className:"uil-check-circle me-2"}),"PDFs merged successfully!"]}),e.jsxs("a",{href:n,download:"merged_document.pdf",className:"btn btn-success",children:[e.jsx("i",{className:"uil-download-alt me-2"}),"Download Merged PDF"]})]})]})})})]})};export{v as default};
