import{r as o,j as e}from"./index-2KY-GWuK.js";import{P as m}from"./PDFButton-BhkYPZ23.js";import{C as F}from"./Card-DgIvjey-.js";const C=()=>{const[n,j]=o.useState(null),[u,b]=o.useState(0),[g,x]=o.useState(""),[h,P]=o.useState(null),[N,f]=o.useState(!1),w=async a=>{const s=a.target.files[0];if(s&&s.type==="application/pdf"){j(s),P(null);const l=await s.arrayBuffer(),r=await m.load(l);b(r.getPageCount()),x(`1-${r.getPageCount()}`)}else alert("Please select a valid PDF file.")},y=(a,s)=>{const l=new Set;return a.split(",").forEach(d=>{const c=d.trim();if(c.includes("-")){const[t,p]=c.split("-").map(Number);if(!isNaN(t)&&!isNaN(p))for(let i=t;i<=p;i++)i>=1&&i<=s&&l.add(i-1)}else{const t=Number(c);!isNaN(t)&&t>=1&&t<=s&&l.add(t-1)}}),Array.from(l).sort((d,c)=>d-c)},v=async()=>{if(n){f(!0);try{const a=y(g,u);if(a.length===0){alert("Invalid page range. Please check your input."),f(!1);return}const s=await n.arrayBuffer(),l=await m.load(s),r=await m.create();(await r.copyPages(l,a)).forEach(i=>r.addPage(i));const c=await r.save(),t=new Blob([c],{type:"application/pdf"}),p=URL.createObjectURL(t);P(p)}catch(a){console.error("Error splitting PDF:",a),alert("An error occurred while splitting the PDF.")}finally{f(!1)}}};return e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"page-title-box",children:e.jsx("h4",{className:"page-title",children:"Split / Extract PDF Pages"})})})}),e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-8",children:e.jsxs(F,{title:"Split / Extract PDF Pages",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"split-upload",className:"form-label",children:"Select PDF File"}),e.jsx("input",{className:"form-control",type:"file",id:"split-upload",accept:"application/pdf",onChange:w})]}),n&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"alert alert-info py-2",children:[e.jsx("i",{className:"uil-file-alt me-2"}),e.jsx("strong",{children:n.name})," - ",u," Pages"]}),e.jsx("label",{htmlFor:"page-range",className:"form-label",children:"Enter Page Range to Extract (e.g., 1, 3-5, 8)"}),e.jsx("input",{type:"text",className:"form-control",id:"page-range",placeholder:"e.g. 1-5, 8, 11-13",value:g,onChange:a=>x(a.target.value)}),e.jsx("div",{className:"form-text",children:"Pages are 1-indexed. The selected pages will be saved into a new PDF."})]}),e.jsx("button",{className:"btn btn-danger w-100 fw-bold",onClick:v,disabled:!n||N,children:N?"Processing...":"Extract Pages"}),h&&e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("div",{className:"alert alert-success",children:[e.jsx("i",{className:"uil-check-circle me-2"}),"PDF created successfully!"]}),e.jsxs("a",{href:h,download:`extracted_${n.name}`,className:"btn btn-success",children:[e.jsx("i",{className:"uil-download-alt me-2"}),"Download Extracted PDF"]})]})]})})})]})};export{C as default};
